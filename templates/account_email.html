<!---------------------------------
　メールアドレス変更画面
 ---------------------------------->

{%extends 'basic_template.html' %}
{%block content%}
<h1 class="text-center bg-sd-secondary text-sd-light fs-4 p-4 mb-5"><i class="bi bi-envelope me-2"></i>メールアドレスの変更</h1>
<div class="container g-5 mt-5">
  <div class="row justify-content-center mb-3">
    <div class="col-lg-6">

      <div class="text-center mt-3 mb-5">
        <p class="d-inline-block text-start fs-6 text-sd-secondary">
          このページではメールアドレスを変更できます。<br class="d-none d-md-inline">
          下記の項目を入力してください。
        </p>
      </div>

      <form action="/account/email" method="post" class="needs-validation" novalidate>

        <div class="row mb-4 mt-md-3 mt-lg-5">
          <label class="col-sm-4 col-form-label">現在のメールアドレス</label>
          <div class="col-sm-8">
            <p class="m-0" style="line-height: 35px">{{current_user.email}}</p>
          </div>
        </div>

        <div class="row mb-4 mt-md-3">
          <label for="input-email" class="col-sm-4 col-form-label">新しいメールアドレス</label>
          <div class="col-sm-8">
            <input type="text" name="email" value="{{email}}" class="form-control {{is_valid['email']}}" id="input-email" required>
            {% if is_not_email %}
              <span class="invalid-feedback">メールアドレスではありません</span>
            {% elif email_exists %}
              <span class="invalid-feedback">既に使われているメールアドレスです</span>
            {% else %}
              <span class="invalid-feedback">項目を入力してください</span>
            {% endif %}
          </div>
        </div>

        <div class="row mb-5">
          <label for="input-password" class="col-sm-4 col-form-label">パスワード</label>
          <div class="col-sm-8">
            <input type="password" name="password" value="{{password}}" class="form-control {{is_valid['password']}}" id="input-password" required>
            {% if is_wrong_password %}
              <span class="invalid-feedback">パスワードが間違っています</span>
            {% else %}
              <span class="invalid-feedback">項目を入力してください</span>
            {% endif %}
          </div>
        </div>

        <div class="text-center"><button class="btn btn-sd-secondary" type="submit">変更を保存する</button></div>
      </form>
    </div>
  </div>
</div>
{%endblock%}